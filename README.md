# 雪華（sekka）
LinuxでIMEがなくても日本語を打てるようにするための漢字直接配列
- IMEがなくても十分な収録字数「4000字」
- 頭で覚えやすい「漢字の主要構成パーツ」による分類
- 手で覚えやすい「左2連＋右1打/2連」の同時打鍵
- 送り仮名に無理なくつながる「薙刀式」専用漢直
- 頻出熟語は楽々入力「熟語・くずし字入力」
- 記憶負担を軽減「異体字同置」

## 配列概要

左×２+右×１／×２

1.  左×２（同時押し）

建物：we wr wf
武器：ew er ef
植物：rw re
自然物：se sd sf
形状：sr sv
体：ds df
手：dc dv dg
足：dw
人：fw fs fe fr fd
器：xc xd xv xf
乗り物：cs
道具：cx cd cv cg cb
動物：vs vx vd vf vc

＊ 左の種別は漢字の主要なパーツの分類名

2. 右×１／×２（同時押し）

・単打は「y」不使用
・同手２連は無理のない連接のみ使用。２打目は「y」も使用。

## 異体字入力

右の最終打鍵を押しっぱなしにして「スペース」で異体字を入力。異体字がもう１つある場合は「g」で入力。

## 熟語「くずし字」入力

右の最終打鍵を押しっぱなしにして、後続漢字の左の最初のキーを打鍵すると、そのキーで始まる最頻出熟語を入力。
右単打の漢字はさらに、「スペース」によるシフトからの右打鍵と後続漢字の最終キー同時押しで、その組み合わせの最頻出熟語を入力。シフトからの右単打には運指的に厳しい熟語を割り当てた。

## 背景
これまでlibkccというIMEにG-Codeという漢直と四角号碼という漢字検字コードを載せて使っていたが、libkccが使えなくなってしまった。
代わりにと検討したMozcにはキーの登録数に上限があり、Anthyでは動作が重く、使いものにならなかった。
それで自分で漢直を作り、KMonadというキーボードマネージャーを使って実装することにした。

## 特徴
- 4000字を収録

社会生活で必要な漢字の数は3000から5000字と言われている。この収録漢字を選ぶにあたり、「漢字出現頻度数調査（４）」にある7269字に範囲を限定した。
まず、最上位の「人」から常用漢字で最下位頻度の「楷」までの3937字を選択、そこからこぼれ落ちた表外漢字を追加、さらにそれらの異体字を含め、修正を施した結果、ちょうど4000字になった。
自分の語彙ではこれで困らなかったため、そのまま採用した。

- 漢字を主要パーツで分類、配置

漢字は300ほどのパーツで出来ていると言われている。各漢字の主要パーツで分類、配置し、記憶の助けとした。
具体的には「漢字系統樹表2800解字」の分類に漢字を追加し、「漢字字形史字典 教育漢字対応版」で上書き修正したものを、頻度と送り仮名も考慮しながら配列に落とし込んだ。

- 送り仮名は「薙刀式」を想定

カナ配列部分は「薙刀式」を使っている。G-Codeはレイヤーを変更しなくても、ひらがな、カタカナ、漢字や数字を打ち分けられる優れものだったが、苦手な「y」キーの頻度が高かった。薙刀式は「y」を使わない、拗音が一息で打てるなど、不満に思っていた点が解消されていた。

送り仮名は基本的には最頻出のものだけを考慮している。頻度表は「Wiki-40B/ja」から生成した。

- 熟語・くずし字入力


## 必要なもの
- KMonad 4.2以上

## 参照資料
- 漢字系統樹表2800解字 善如寺俊彦 著
- 漢字字形史字典 教育漢字対抗対応版 落合淳思 著
- 漢字出現頻度数調査（4）令和4年2月 文化庁国語課
- Wiki-40B/ja by Google Research
- 900連接調査 by 大岡俊彦
- 青蛙亭漢語塾 https://www.seiwatei.net/index.htm
- 漢字情報一覧 https://www2q.biglobe.ne.jp/~bonichi/kj.HTM
- Unicode Character Database https://www.unicode.org/Public/UCD/latest/ucd/
- JISX0213 InfoCenter https://www.jca.apc.org/~earthian/aozora/0213.html
- JIS X 0213のコード対応表 https://x0213.org/codetable/
- 漢字辞典オンライン https://kanji.jitenon.jp/
- コトバンク https://kotobank.jp/
